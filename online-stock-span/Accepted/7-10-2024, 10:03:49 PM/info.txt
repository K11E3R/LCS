{"id":1316847402,"question_id":937,"lang":"rust","lang_name":"Rust","time":"2 weeks, 2 days","timestamp":1720641829,"status":10,"status_display":"Accepted","runtime":"35 ms","url":"/submissions/detail/1316847402/","is_pending":"Not Pending","title":"Online Stock Span","memory":"6.4 MB","code":"/*\nuse std::collections::VecDeque;\n\nstruct StockSpanner {\n    stk: VecDeque<(i32, i32)>,\n}\n\nimpl StockSpanner {\n    fn new() -> Self {\n        Self {\n            stk: VecDeque::new(),\n        }\n    }\n\n    fn next(&mut self, price: i32) -> i32 {\n        let mut cnt = 1;\n        \n        while let Some(&(p, s)) = self.stk.back() {\n            if p <= price {\n                cnt += s;\n                self.stk.pop_back();\n            } else {\n                break;\n            }\n        }\n        \n        self.stk.push_back((price, cnt));\n        cnt\n    }\n}\n\n*/\n\nstruct StockSpanner {\n    prices: Vec<(usize,i32)>\n}\n\nimpl StockSpanner {\n\n    fn new() -> Self {\n        StockSpanner{\n            prices: Vec::<(usize,i32)>::new(),\n        }\n    }\n    \n    fn next(&mut self, price: i32) -> i32 {\n        let mut span = 1;\n        while let Some((p_span, pp)) = self.prices.last() {\n            if *pp > price {\n                break;\n            }\n            span += p_span;\n            self.prices.pop();\n        }\n        self.prices.push((span, price));\n        span as i32\n    }\n}","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"online-stock-span","has_notes":false,"flag_type":1}